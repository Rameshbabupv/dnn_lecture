# Week 15: R-CNN Family - Two-Stage Object Detection - Requirements
# Course: 21CSE558T - Deep Neural Network Architectures
# Module 5: Object Detection - Two-Stage Detectors
#
# Tested on Python 3.8+
# All libraries compatible with Google Colab (free tier)
# GPU RECOMMENDED for inference (though models are pre-trained)

# ============================================
# Core Deep Learning Frameworks
# ============================================
torch>=2.0.0,<3.0.0              # PyTorch (backend for torchvision)
torchvision>=0.15.0,<1.0.0       # Includes Faster R-CNN pre-trained models

# ============================================
# TensorFlow/Keras (Alternative)
# ============================================
tensorflow>=2.10.0,<3.0.0        # TensorFlow 2.x
keras>=2.10.0,<3.0.0             # Keras API

# ============================================
# Core Scientific Computing
# ============================================
numpy>=1.21.0,<2.0.0
matplotlib>=3.5.0,<4.0.0
opencv-python>=4.6.0,<5.0.0
pillow>=9.0.0,<11.0.0

# ============================================
# Jupyter Notebook Support
# ============================================
jupyter>=1.0.0
ipywidgets>=7.7.0
notebook>=6.4.0

# ============================================
# Visualization & Analysis
# ============================================
seaborn>=0.11.0,<1.0.0
pandas>=1.3.0,<2.0.0
scikit-learn>=1.0.0,<2.0.0

# ============================================
# Object Detection Utilities
# ============================================
pycocotools>=2.0.6               # COCO evaluation metrics

# ============================================
# Additional Utilities
# ============================================
tqdm>=4.64.0                     # Progress bars
pyyaml>=6.0                      # Configuration files

# ============================================
# Optional: Detectron2 (Facebook's R-CNN implementation)
# ============================================
# detectron2                     # Uncomment for advanced R-CNN experiments
                                 # Installation: pip install 'git+https://github.com/facebookresearch/detectron2.git'
                                 # Note: Requires specific PyTorch/CUDA versions

# ============================================
# IMPORTANT NOTES
# ============================================
# 1. Week 15 focuses on TWO-STAGE detectors (R-CNN family)
# 2. Uses PRE-TRAINED models (no training required)
# 3. GPU recommended but NOT essential (inference is faster on GPU)
# 4. Most models available in torchvision.models.detection
# 5. Smaller models than YOLO training (Week 14)
# 6. Emphasis on UNDERSTANDING architecture vs training

# ============================================
# Installation Instructions
# ============================================
#
# Option 1: Install all dependencies (RECOMMENDED)
# pip install -r requirements.txt
#
# Option 2: Minimal install for inference
# pip install torch torchvision opencv-python matplotlib pillow
#
# Option 3: Google Colab (BEST FOR STUDENTS)
# Most libraries pre-installed, including:
# - PyTorch with torchvision (includes Faster R-CNN)
# - TensorFlow (for alternative implementations)
# - OpenCV, NumPy, Matplotlib
#
# For GPU support in Colab (RECOMMENDED):
# Runtime → Change runtime type → Hardware accelerator: GPU
#
# ============================================
# Pre-trained Models (Automatic Download)
# ============================================
# Faster R-CNN models from torchvision (auto-download on first use):
# - fasterrcnn_resnet50_fpn:     ~160 MB
# - fasterrcnn_mobilenet_v3:     ~20 MB (faster, less accurate)
#
# Mask R-CNN (optional, for instance segmentation):
# - maskrcnn_resnet50_fpn:       ~170 MB

# ============================================
# Tested Environments
# ============================================
# ✅ Google Colab (Python 3.10, T4 GPU) - RECOMMENDED
# ✅ Local Jupyter with CUDA GPU (faster inference)
# ✅ Local Jupyter CPU-only (works, but slower)
# ⚠️ Apple Silicon (M1/M2) - Works with MPS backend
# ⚠️ Python 3.12+ may have compatibility issues

# ============================================
# Troubleshooting
# ============================================
#
# Issue: "No module named 'torchvision.models.detection'"
# Solution: pip install --upgrade torchvision
#
# Issue: "CUDA out of memory" during inference
# Solution: Process images one at a time, reduce batch size to 1
#
# Issue: "Model download slow or fails"
# Solution: Check internet, models cached in ~/.cache/torch/
#          Manual download: https://download.pytorch.org/models/
#
# Issue: "Detectron2 installation fails"
# Solution: Skip detectron2 (optional), use torchvision instead
#          Or follow: https://detectron2.readthedocs.io/en/latest/tutorials/install.html
#
# Issue: "Inference very slow on CPU"
# Solution: Enable GPU in Colab, or use smaller model (mobilenet variant)
#
# Issue: "pycocotools installation fails on Windows"
# Solution: Install Visual C++ Build Tools first
#          Or: conda install pycocotools (if using Anaconda)

# ============================================
# Week 15 Focus Areas
# ============================================
# Unlike Week 14 (YOLO training), Week 15 focuses on:
# - Understanding two-stage detection paradigm
# - Using pre-trained Faster R-CNN models
# - Comparing R-CNN evolution (R-CNN → Fast → Faster)
# - Region Proposal Networks (RPN) concepts
# - When to use two-stage vs single-shot detectors
# - Academic understanding over practical training

# ============================================
# GPU Requirements
# ============================================
# Week 15 is LIGHTER than Week 14:
# - No training required (only inference)
# - Pre-trained models only
# - Can run on CPU (slower but acceptable)
# - GPU makes inference 5-10× faster
# - Google Colab free T4 GPU sufficient

# ============================================
# Storage Requirements
# ============================================
# Colab free tier (12-15 GB RAM) is sufficient
# Disk space: ~2-3 GB for models + test images
# Much lighter than Week 14 (no large datasets needed)

# ============================================
# Comparison with Week 14
# ============================================
# Week 14 (YOLO): Training-focused, requires GPU for Notebook 04
# Week 15 (R-CNN): Inference-focused, GPU optional but recommended
# Week 14: Practice-heavy (train custom models)
# Week 15: Theory-heavy (understand architecture & comparisons)

# End of requirements.txt
